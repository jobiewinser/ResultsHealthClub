{% extends 'core/base.html' %}
{%load static%}
{%block scripts%}
{{block.super}}
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js" integrity="sha512-ElRFoEQdI5Ht6kZvyzXhYG9NqjtkmlkfYk0wr6wHxU9JEHakS7UJZNeml5ALk+8IKlU6jDgMabC3vkumRokgJA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script>
    
    let leads_to_sales_chart_var = null;
    let leads_to_sales_chart = null;

    let leads_to_booking_chart_var = null;
    let leads_to_bookings_chart = null;
    $(document).ready(function() {
        document.body.addEventListener('htmx:afterSwap', function(evt) {  
            if (![undefined, ''].includes(evt.detail.pathInfo.path) && ![undefined, ''].includes(evt.detail.target.id)){
                if (evt.detail.pathInfo.path.includes("get-leads-to-sale")){
                    
                }
            }
        });
    });
</script>
{%endblock scripts%}

{%block overide_content%}       
<div class="col d-flex flex-column h-sm-100 p-0" style="overflow-x:hidden">  
    <div class="fixed_top_buttons">
        {%block extra_top_left_buttons %}
        <div class="col-md-auto me-2">
            <a class="btn btn-secondary" href="{%url 'customer-home'%}"><i class="fa-solid fa-arrow-left"></i> Back to Home</a>             
        </div>
        {%include 'core/htmx/site_selection.html'%}
        {%endblock extra_top_left_buttons %}

        <button hidden hx-get="{% url 'analytics' %}" hx-push-url="false" hx-swap="outerHTML" hx-include=".non_site_dependant_overview_table_filters" hx-indicator=".top-htmx-indicator" hx-target="#content" id="change_site" class="btn btn-primary btn-sm"></button>

        <div class="col">                
        </div>    
        <div class="col-md-auto">
            <span class="badge bg-dark text-white"><h6 class="m-1">Analytics</h6></span>      
        </div>
    </div>
    <main class="row overflow-auto below_fixed_top_buttons">
        {%include 'analytics/htmx/analytics_overview_content.html'%}
    </main>
</div> 
{%endblock overide_content%}   