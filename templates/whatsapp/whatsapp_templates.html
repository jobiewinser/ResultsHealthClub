{% extends 'core/base.html' %}
{%load static%}
{%block scripts%}
{{block.super}}
<link href="{% static 'css/datatables.css' %}" rel="stylesheet" />
<script src="{% static 'js/datatables.js' %}"></script> 
<script>
    $(document).ready(function() {
        $("[data-bs-toggle=popover]").popover();
        initDataTable();
        document.body.addEventListener('htmx:afterSwap', function(evt) {  
            $("[data-bs-toggle=popover]").popover();
            initDataTable();
        });  
    });
    let SearchTerm = ""
    function initDataTable() {
        try{$("#overview_table").dataTable().fnDestroy();}catch{}

        dt = $('#overview_table').DataTable(          
            {  
                order: [[5, 'desc' ]],
                iDisplayLength: 10,
                search: {
                   search: SearchTerm
                }
            }
        );
        let searchInput = $('#overview_table_filter').find('input');
        searchInput.on('input', function (e) {
            SearchTerm = searchInput.val()
        });
    }
</script>
{%endblock scripts%}

{%block content%} 
{%include 'whatsapp/whatsapp_templates_content.html'%}
{%endblock content%}